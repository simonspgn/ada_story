---
layout: post
title: "A Data Analysis on Political Popularity and Media Coverage"
subtitle: "EPFL Applied Data Analysis Final Project"
date: 2021-12-10 23:45:13 -0400
background: "/img/posts/elections4.jpg"
---

Welcome to Team SARS' final ADAmazing project. In this study, we analyze the intricate relationship between voting intentions and media coverage in the past three US presidential elections. We find that...

<center>
  <h1>Background</h1>
</center>

It is often argued that former US president Donald Trump’s upset victory in the 2016 elections strongly relates to his ability to monopolize the attention of mass media outlets [1]. Although the former president’s polemical nature granted him a front row seat at almost every (inter)national newspaper in the months and years preceding the election [2], it can be a difficult task to assess the impact that such incessant media coverage had on the final outcome of the presidential elections. This is precisely the question that we aim to answer in the following study. We use the quotebank corpus to analyse possible correlations and causations between the media coverage of three different major outlets with notoriously distinct political inclinations: CNN (democrat), BBC (centrist) and Fox News (republican) as well as voting intentions in the months preceding each elections.

One of the first questions that we were faced with related to finding accurate means of quantifying media coverage and voting intentions. As such, we define the following:

- **Media Coverage**: defined in our study by the number of occurrences of keywords (such as a presidential candidate's name or his/her running mate) during a given presidential election in a given newspaper (BBC, NY Times or Fox News).

- **Voting Intentions**: defined in our study by poll numbers for each presidential candidate in the months prior to a given election.


<center>
  <h1> A visual tour of media coverage & voting intentions
</h1>
</center>

In this section, we present a visual description of the data parsing and manipulations performed in order to begin our study.

<center>
  <h2>Media Coverage</h2>
</center>

Retrieving media coverage was done solely through the Quotebank dataset [3]. We started by retrieving all the quotations for the years in which a presidential election occurred (2012, 2016 and 2020) and which originated from one of the following three newspapers: NYTimes, Fox News, BBC (done by checking the origin of each link in the dataset's url column).

For each of the parsed quotation, we kept only those that included at least one occurrence of the presidential candidates names (or their running mates) within the quotation, the speaker or the url attributes of the dataset. Finally, we built timelines of the retrieved occurrence for each of the three aforementioned newspapers in the months preceding the presidential elections (January - November) in 2012, 2016 and 2020.

We start by presenting a visualization regarding the number of mentions per month for each newspaper that we have retrieved when parsing the data. This part does not focus on the candidates but rather on the overall occurrences of any keyword of interest per newspaper.

<iframe src="/ada_story/img/posts/newspapers_over_years.html" height="500px" width="100%" frameBorder="0"></iframe>

This initial visualization gives us several important insights for our study:

- **First**: the data for the 2012 elections that we retrieved is fairly well represented with generally more mentions in the NY Times, somewhat closely followed by Fox News and finally by BBC which (as expected) has the least mentions- we believe that BBC should have the least mentions because it isn't a natively American newspaper and since it is generally regarded as a more "centrist" leaning - in contrast to NY Times that is typically democrat leaning and Fox News that is republican leaning.

- **Second**: we are missing a considerable amount of data for the months of January-June, October 2016 and May-November 2020. This could potentially mean that there are only very few mentions in the newspapers we target (which seems highly unlikely considering the general fuss in the months leading to the elections and by comparing it with the 2012 data retrieved). A more plausible explanation refers to the quality of the Quotebank dataset, simply missing relevant quotations in these months. Concerning 2020, we noted that the Quotebank data retrieval ended in April 2020 [3], which confirms our observation. Concerning the 2016, we note in the visualization below that the missing data is simply caused by the poor nature of the dataset.

<iframe src="/ada_story/img/posts/bubble_2016_statistics.html" height="500px" width="100%" frameBorder="0"></iframe>

We illustrate in the bubble chart the total number of quotations present in the Quotebank dataset for a given newspaper in a given month (indicated by the larger transparent bubbles) versus the number of quotations retrieved that include any of our keywords of insterest (presidential candidate name or running mate name) for a given newspaper in a given month. We distinctly note that the Quotebank dataset exhibits very few total quotations for any of the newspapers in the months of January to June (inclusive) and October. To this observation we add the fact that the authors of Quotebank mention that.... [ANTOINE WHERE DID YOU FIND IT IN THE PAPER - ADD HERE]

We then proceed in our analysis by visualizing the distribution of mentions per candidate retrieved for the three years of interest (independently of the newspaper in which the mention occurred). We see in the visualization below a very interesting trend in which the republican candidates are generally more represented/mentioned in the three elections (without distinguishing between newspapers). Although the difference between Obama and Romney remains somewhat limited, the few months we can observe in the 2016 and 2020 elections show a complete disproportion in coverage between Trump and the democratic candidate.

<iframe src="/ada_story/img/posts/candidates_over_year.html" height="500px" width="100%" frameBorder="0"></iframe>

It is also interesting to note the overall difference between the republican and the democratic candidate over the span of the three elections. In 2012, we found 2695 more quotation referring to the republican candidate (Mitt Romney) than the democratic candidate (Barack Obama). This number is then increased almost two-fold (5460 quotations in 2016 and 4245 quotations in 2020) for the 2016 and 2020 elections. Even considering all the missing data in our set for 2016 and 2020, this is a notable difference that may be even more drastic with a full dataset. Such an observation may raise the question on whether the arrival of Donald Trump as a presidential candidate motivated an increase in media coverage difference between republican and democratic candidate.

We can further delve into the difference in coverage between republican and democratic candidate by visualizing the distribution of quotations referring to each candidate on a newspaper basis.

<iframe src="/ada_story/img/posts/candidates_over_year_newspaper.html" height="500px" width="100%" frameBorder="0"></iframe>

We see that tendency previously mentioned to predominantly cover a republican candidate is not necessarily true for 2012: although NYTimes (a notoriously Democrat newspaper) shows stronger media coverage for Mitt Romney, we note that Fox News (a notoriously Republican newspaper) shows slightly higher media coverage for Barack Obama. This is a very interesting behavior that is not apparent when looking only at overall mentions across all newspapers.

The only month in 2012 in which Barack Obama was given more NYTimes media coverage was in May. We also see that the highest democratic candidate coverage in the Fox News newspaper was during that same month. Can these peaks be attributed to a particular event? After a quick online search we found that in May 2012, Barack Obama became the first sitting US president to announce support for same-sex marriage [4]. Could these events be related? A more fined grain analysis may reveal correlation between these two events.

Nevertheless, in 2016 and 2020, the republican candidate always gets more media coverage than the democratic one.

<center>
  <h2>Voting Intentions</h2>
</center>

In order to quantify the change of public opinion during the election period, we based our analysis on a total of 263 national surveys conducted by diﬀerent agencies (an average of 2.7 surveys per day), in which the forecaster of vote of each candidate was measured in a gap of a few days (around 3-5 days). This data, which shows the result of diﬀerent pollsters and the date that it was done, was downloaded from Real Clear Politics websites : [Polls 2020](https://www.realclearpolitics.com/epolls/2020/president/us/general_election_trump_vs_biden-6247.html#polls), [Polls 2016](https://www.realclearpolitics.com/epolls/2016/president/us/general_election_trump_vs_clinton-5491.html), [Polls 2012](https://www.realclearpolitics.com/epolls/2012/president/us/general_election_romney_vs_obama-1171.html#!) using a python web scraper. All national surveys that are presented in this work used a demographic balanced sample.

<iframe src="/ada_story/img/posts/voting_intentions_allyears.html" height="500px" width="100%" frameBorder="0"></iframe>

the figure above displays the time series of potential percentage of votes for each candidate. Each point in the time series corresponds to a particular date, but its value is the average of the entire the week before. In other words, a 7-days sliding window average was used and in consequence each point in the time series takes into account an average of 19 polls.

For example in the 2016 elections, the figure shows that Clinton kept up an advantage over Trump during the time period. However, this advantage was aﬀected by drops in the middle and next to the end of the period. If we inspect the individual series, we can see that the initial decreasing of the advantage is due to the gradual ascending of Trump's image until October. After that, his image went down sharply until it was recovered near the election date, which explains the last decrease in Clinton's advantage, which slightly increased in the last days.

 Now we aim to explore how mass media contributed to the formation of these ﬂuctuations and try to infer if and how the mass media can inﬂuence in the vote of the citizens.

 <center>
   <h1> Getting our hands dirty</h1>
 </center>


We perform the correlation study here.

~~We first start by a baseline model in which we compare media coverage and voting intentions on a per week? basis. We use regression analysis/statistical tests.... FILL IN HERE
We then further the analysis by including sentiment analysis as a covariate....~~

<center>
   <h2> Correlation Analysis</h2>
 </center>

Our goal is to discover if there is a relationship between the media coverage (by the newspapers) and the voting intention (for the elections of 2012, 2016 and 2020) and what kind relationship it is, in order to gain insights and form our conclusion. In the first part we aggregate our data to have meaningful combined variables. Then in the second part we visualize the distributions of each combination of election year, candidate and newspaper. Finally, we compute the correlation between the variables of interest (media coverage and voting intention) and provide the p-values associated with the coefficients. We also give some interpretations to our results. Now let us detail each step of our study.

 <center>
   <h3> Aggregation</h3>
 </center>
 
The aim of the aggregation is to help us find correlation in the analysis part, but also to summarize the essentials of our data and visualize it in a meaningful way. There are several time frames levels (such as year, month, week and day) in which we can aggregate the results for each combination of election year, candidate, and newspaper. If we aggregate by year we will have 1 data point only, by month 12 data points at most and 3 in the worst case (because some months will be discarded due to the small amount of occurrences in those months). Due to the lack of data in 2016 and 2020 we found that the it may be a better compromise between number of occurrences per period of time and the number of data points is achieved when we aggregate by week.

More precisely, the aggregation is performed as follows: for each triplet (year, candidate, newspaper) we take the mean of intention votes over the week (by choosing the end date of the poll to specify the week). We do not need more robust statistics here, because we do not have outliers. However, just summing the quotations occurrences for each week is not a realistic measure of how important those occurrences were. Thus, we purposefully re-scale each sum of occurrences by dividing the sum by the total number of quotations during that same week. 

<center>
   <h3> Visualization</h3>
 </center>

Next, we show the plots of the distributions and their relation for the aggregated variables "weekly_occurrences_rescaled" and "intention_mean".  We can see that this is real word data, because most of the plots do not seem to have a clear relationship (except for those of the election 2016 which seems more linear). 

[ADD PLOT HERE]

After this we use correlation to give us more insight on whether the two variables have some dependence or not, and to show if the correlation is positive or negative. We will use a normality test in order to choose a suitable type of correlation for our data.

<center>
   <h3> Correlation coefficients and p-value</h3>
 </center>
 
We have to decide how to measure the correlation. For that we need to test the assumptions, and if the assumption is checked we can use Pearson's correlation, otherwise we use Spearman's correlation. Spearman's correlation is a more general measure which captures the monotic relationship between the two variables.

[We should test whether our data is normally distributed, if so we can use Pearson's correlation, otherwise we will use Spearman's correlation](https://www.researchgate.net/post/Which-correlation-coefficient-is-better-to-use-Spearman-or-Pearson). The reason for using such an assumption is that under the normality condition we get an unbiased estimator, because the error terms are normally distributed. While Spearman's correlation is more flexible (more relaxed assumptions) do not need that assumption and is more robust against outliers. So using Spearman's correlation is more effective.

To test the whether the data was drawn from a normal distribution we apply Shapiro-Wilk test to the 'weekly_occurrences_rescaled' and 'intention_mean' variables for each combination. Shapiro-Wilk test is a method for normality testing, it is said to be one of the most popular and powerful method to detect nonnormality (which we want to show). If the p-value is larger than 0.05 then we can assume that the variable distribution is normally distributed.

[ADD TABLE HERE]

Based on the above discussion and the fact that $\frac{11}{36}$ of the p-values are smaller than $0.05$ (we can reject the null hypothesis, i.e. that the data is normally distributed), we decide to use Spearman's correlation.

[ADD SPEARMAN CORRELATION PLOT HERE]

  <center>
   <h3> Tentative interpretations</h3>
 </center>

For a more fine grained analysis we divide in three the levels of evidence:

-   p-value < 0.05 (evidence)
-   0.05 <= p-value <= 0.1 (weak evidence)
-   0.1 < p-value < 1 (no evidence)

Interpretation:

-   2012 election
    -   Obama: Fox News produces some negative correlation between the two variable, but this result is not statistically significant (all values are higher than 0.1).
    -   Romney: All three newspapers produces positive correlations between the two variable, this result is very good evidence (the p values are 0.051361, 0.000543 and 0.010052).
    -   This may indicate that for Romney the media coverage had a positive impact, for Obama we cannot conclude.
-   2016
    -   Clinton: Positive correlation for the three newspapers, this result has good evidence in BBC (p-value is 0.030383), whereas no evidence for the other newspaper (values are higher than 0.1).
    -   Trump: Positive correlations in the three cases, in the BBC case the evidence is quite good (p is 0.024415), but for the other newspapers we have no evidence (values are higher than 0.1).
    -   This may indicate the two candidates positively benefited from the increasing number of occurences.
-   2020
    -   Biden: Small positive correlation, no evidence of correlation (all values are higher than 0.1).
    -   Trump: Small positive correlation and negative (for NY Times), no evidence of correlation (all values are higher than 0.1).

<center>
  <h2>Baseline Correlation Study Between Media Coverage & Voting intentions</h2>
</center>

NOTE: Since we use a p-value to confirm/reject our correlation study, we may have to expressively describe what the null hypothesis is.

<style  type="text/css" >
#T_dfd07_row0_col0,#T_dfd07_row0_col1,#T_dfd07_row0_col2,#T_dfd07_row0_col4,#T_dfd07_row1_col0,#T_dfd07_row1_col1,#T_dfd07_row1_col2,#T_dfd07_row1_col3,#T_dfd07_row1_col4,#T_dfd07_row2_col0,#T_dfd07_row2_col1,#T_dfd07_row2_col2,#T_dfd07_row2_col4,#T_dfd07_row3_col0,#T_dfd07_row3_col1,#T_dfd07_row3_col2,#T_dfd07_row4_col0,#T_dfd07_row4_col1,#T_dfd07_row4_col2,#T_dfd07_row5_col0,#T_dfd07_row5_col1,#T_dfd07_row5_col2,#T_dfd07_row6_col0,#T_dfd07_row6_col1,#T_dfd07_row6_col2,#T_dfd07_row6_col3,#T_dfd07_row6_col4,#T_dfd07_row7_col0,#T_dfd07_row7_col1,#T_dfd07_row7_col2,#T_dfd07_row7_col3,#T_dfd07_row7_col4,#T_dfd07_row8_col0,#T_dfd07_row8_col1,#T_dfd07_row8_col2,#T_dfd07_row8_col4,#T_dfd07_row9_col0,#T_dfd07_row9_col1,#T_dfd07_row9_col2,#T_dfd07_row9_col3,#T_dfd07_row9_col4,#T_dfd07_row10_col0,#T_dfd07_row10_col1,#T_dfd07_row10_col2,#T_dfd07_row10_col3,#T_dfd07_row10_col4,#T_dfd07_row11_col0,#T_dfd07_row11_col1,#T_dfd07_row11_col2,#T_dfd07_row11_col3,#T_dfd07_row11_col4,#T_dfd07_row12_col0,#T_dfd07_row12_col1,#T_dfd07_row12_col2,#T_dfd07_row12_col4,#T_dfd07_row13_col0,#T_dfd07_row13_col1,#T_dfd07_row13_col2,#T_dfd07_row13_col4,#T_dfd07_row14_col0,#T_dfd07_row14_col1,#T_dfd07_row14_col2,#T_dfd07_row14_col3,#T_dfd07_row14_col4,#T_dfd07_row15_col0,#T_dfd07_row15_col1,#T_dfd07_row15_col2,#T_dfd07_row15_col3,#T_dfd07_row15_col4,#T_dfd07_row16_col0,#T_dfd07_row16_col1,#T_dfd07_row16_col2,#T_dfd07_row16_col3,#T_dfd07_row16_col4,#T_dfd07_row17_col0,#T_dfd07_row17_col1,#T_dfd07_row17_col2,#T_dfd07_row17_col3,#T_dfd07_row17_col4{
            color:  Black;
        }#T_dfd07_row0_col3,#T_dfd07_row2_col3,#T_dfd07_row3_col3,#T_dfd07_row3_col4,#T_dfd07_row4_col3,#T_dfd07_row4_col4,#T_dfd07_row5_col3,#T_dfd07_row5_col4,#T_dfd07_row8_col3,#T_dfd07_row12_col3,#T_dfd07_row13_col3{
            color:  rgb(146,197,222);
        }</style><table width="100%" id="T_dfd07_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Year</th>        <th class="col_heading level0 col1" >Candidate</th>        <th class="col_heading level0 col2" >Newspaper</th>        <th class="col_heading level0 col3" >O.N. P-value</th>        <th class="col_heading level0 col4" >I.N. P-value</th>    </tr></thead><tbody>

                <tr>
                        <th id="T_dfd07_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_dfd07_row0_col0" class="data row0 col0" >2012</td>
                        <td id="T_dfd07_row0_col1" class="data row0 col1" >Obama</td>
                        <td id="T_dfd07_row0_col2" class="data row0 col2" >BBC</td>
                        <td id="T_dfd07_row0_col3" class="data row0 col3" >0.000002</td>
                        <td id="T_dfd07_row0_col4" class="data row0 col4" >0.943012</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_dfd07_row1_col0" class="data row1 col0" >2012</td>
                        <td id="T_dfd07_row1_col1" class="data row1 col1" >Obama</td>
                        <td id="T_dfd07_row1_col2" class="data row1 col2" >Fox News</td>
                        <td id="T_dfd07_row1_col3" class="data row1 col3" >0.338060</td>
                        <td id="T_dfd07_row1_col4" class="data row1 col4" >0.943012</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_dfd07_row2_col0" class="data row2 col0" >2012</td>
                        <td id="T_dfd07_row2_col1" class="data row2 col1" >Obama</td>
                        <td id="T_dfd07_row2_col2" class="data row2 col2" >NY Times</td>
                        <td id="T_dfd07_row2_col3" class="data row2 col3" >0.000098</td>
                        <td id="T_dfd07_row2_col4" class="data row2 col4" >0.943012</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_dfd07_row3_col0" class="data row3 col0" >2012</td>
                        <td id="T_dfd07_row3_col1" class="data row3 col1" >Romney</td>
                        <td id="T_dfd07_row3_col2" class="data row3 col2" >BBC</td>
                        <td id="T_dfd07_row3_col3" class="data row3 col3" >0.002176</td>
                        <td id="T_dfd07_row3_col4" class="data row3 col4" >0.021756</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_dfd07_row4_col0" class="data row4 col0" >2012</td>
                        <td id="T_dfd07_row4_col1" class="data row4 col1" >Romney</td>
                        <td id="T_dfd07_row4_col2" class="data row4 col2" >Fox News</td>
                        <td id="T_dfd07_row4_col3" class="data row4 col3" >0.002341</td>
                        <td id="T_dfd07_row4_col4" class="data row4 col4" >0.021756</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_dfd07_row5_col0" class="data row5 col0" >2012</td>
                        <td id="T_dfd07_row5_col1" class="data row5 col1" >Romney</td>
                        <td id="T_dfd07_row5_col2" class="data row5 col2" >NY Times</td>
                        <td id="T_dfd07_row5_col3" class="data row5 col3" >0.000704</td>
                        <td id="T_dfd07_row5_col4" class="data row5 col4" >0.021756</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_dfd07_row6_col0" class="data row6 col0" >2016</td>
                        <td id="T_dfd07_row6_col1" class="data row6 col1" >Clinton</td>
                        <td id="T_dfd07_row6_col2" class="data row6 col2" >BBC</td>
                        <td id="T_dfd07_row6_col3" class="data row6 col3" >0.216067</td>
                        <td id="T_dfd07_row6_col4" class="data row6 col4" >0.113037</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_dfd07_row7_col0" class="data row7 col0" >2016</td>
                        <td id="T_dfd07_row7_col1" class="data row7 col1" >Clinton</td>
                        <td id="T_dfd07_row7_col2" class="data row7 col2" >Fox News</td>
                        <td id="T_dfd07_row7_col3" class="data row7 col3" >0.924074</td>
                        <td id="T_dfd07_row7_col4" class="data row7 col4" >0.113037</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_dfd07_row8_col0" class="data row8 col0" >2016</td>
                        <td id="T_dfd07_row8_col1" class="data row8 col1" >Clinton</td>
                        <td id="T_dfd07_row8_col2" class="data row8 col2" >NY Times</td>
                        <td id="T_dfd07_row8_col3" class="data row8 col3" >0.033021</td>
                        <td id="T_dfd07_row8_col4" class="data row8 col4" >0.113037</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_dfd07_row9_col0" class="data row9 col0" >2016</td>
                        <td id="T_dfd07_row9_col1" class="data row9 col1" >Trump</td>
                        <td id="T_dfd07_row9_col2" class="data row9 col2" >BBC</td>
                        <td id="T_dfd07_row9_col3" class="data row9 col3" >0.725930</td>
                        <td id="T_dfd07_row9_col4" class="data row9 col4" >0.993658</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_dfd07_row10_col0" class="data row10 col0" >2016</td>
                        <td id="T_dfd07_row10_col1" class="data row10 col1" >Trump</td>
                        <td id="T_dfd07_row10_col2" class="data row10 col2" >Fox News</td>
                        <td id="T_dfd07_row10_col3" class="data row10 col3" >0.962056</td>
                        <td id="T_dfd07_row10_col4" class="data row10 col4" >0.993658</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_dfd07_row11_col0" class="data row11 col0" >2016</td>
                        <td id="T_dfd07_row11_col1" class="data row11 col1" >Trump</td>
                        <td id="T_dfd07_row11_col2" class="data row11 col2" >NY Times</td>
                        <td id="T_dfd07_row11_col3" class="data row11 col3" >0.071965</td>
                        <td id="T_dfd07_row11_col4" class="data row11 col4" >0.993658</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_dfd07_row12_col0" class="data row12 col0" >2020</td>
                        <td id="T_dfd07_row12_col1" class="data row12 col1" >Biden</td>
                        <td id="T_dfd07_row12_col2" class="data row12 col2" >BBC</td>
                        <td id="T_dfd07_row12_col3" class="data row12 col3" >0.019856</td>
                        <td id="T_dfd07_row12_col4" class="data row12 col4" >0.099852</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_dfd07_row13_col0" class="data row13 col0" >2020</td>
                        <td id="T_dfd07_row13_col1" class="data row13 col1" >Biden</td>
                        <td id="T_dfd07_row13_col2" class="data row13 col2" >Fox News</td>
                        <td id="T_dfd07_row13_col3" class="data row13 col3" >0.000841</td>
                        <td id="T_dfd07_row13_col4" class="data row13 col4" >0.099852</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_dfd07_row14_col0" class="data row14 col0" >2020</td>
                        <td id="T_dfd07_row14_col1" class="data row14 col1" >Biden</td>
                        <td id="T_dfd07_row14_col2" class="data row14 col2" >NY Times</td>
                        <td id="T_dfd07_row14_col3" class="data row14 col3" >0.159071</td>
                        <td id="T_dfd07_row14_col4" class="data row14 col4" >0.099852</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_dfd07_row15_col0" class="data row15 col0" >2020</td>
                        <td id="T_dfd07_row15_col1" class="data row15 col1" >Trump</td>
                        <td id="T_dfd07_row15_col2" class="data row15 col2" >BBC</td>
                        <td id="T_dfd07_row15_col3" class="data row15 col3" >0.887226</td>
                        <td id="T_dfd07_row15_col4" class="data row15 col4" >0.990791</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_dfd07_row16_col0" class="data row16 col0" >2020</td>
                        <td id="T_dfd07_row16_col1" class="data row16 col1" >Trump</td>
                        <td id="T_dfd07_row16_col2" class="data row16 col2" >Fox News</td>
                        <td id="T_dfd07_row16_col3" class="data row16 col3" >0.514097</td>
                        <td id="T_dfd07_row16_col4" class="data row16 col4" >0.990791</td>
            </tr>
            <tr>
                        <th id="T_dfd07_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_dfd07_row17_col0" class="data row17 col0" >2020</td>
                        <td id="T_dfd07_row17_col1" class="data row17 col1" >Trump</td>
                        <td id="T_dfd07_row17_col2" class="data row17 col2" >NY Times</td>
                        <td id="T_dfd07_row17_col3" class="data row17 col3" >0.111136</td>
                        <td id="T_dfd07_row17_col4" class="data row17 col4" >0.990791</td>
            </tr>
    </tbody></table>

We started our correlation study by applying Spearman's rank correlation analysis between the media coverage rescaled (EXPLAIN HERE) and the voting intentions for each candidate in a given newspaper. We choose this metric as we noted that the media coverage variable is not normally distributed thus.... (EXPAND HERE - What does it mean? What's the implication of not having a normally distributed media coverage? Why could we not use other models?). We view our model as having intention vote as the dependent variable and media coverage as the predictor. The correlation results are illustrated in the chart below. Note that correlations in which the p-value is smaller than 0.05 (cases in which our hypothesis is statistically significant) are marked with dotted patterns to distinguish them from p-values that cannot be rejected (>0.05). We also note that the correlation study for 2016 and 2020 is performed only for the months in which we deemed to have enough media coverage data (2016: July, August, September; 2020: January, February, March, April). We did not include any specific statistical study or threshold to pick the months with "enough" data. Rather, we pick these months based on the visualizations presented in the previous section.

<iframe src="/ada_story/img/posts/baseline_correlation.html" height="500px" width="100%" frameBorder="0"></iframe>

We present in the illustration above three categories: statistical tests in which we have clear significance where p<0.05 (marked in dark blue), statistical tests in which we observed "weak evidence" where p is between 0.05 and 0.1 (marked in light blue) and finally statistical tests that do not present any significance, where p>0.1 (marked in red).

We note a few interesting observations:

- **Barack Obama**: We note that Fox News, BBC and NY Times exhibit a negative correlation between the media coverage and voting intentions, but these result are not statistically significant thus cannot be considered for our study (the p-values retrieved for the three newspapers are all higher than 0.1).
- **Mitt Romney**: the three newspapers exhibit positive correlations between media coverage and voting intentions. We note that for the NY Times and Fox News newspaper, the correlation study is supported by a small p-value (thus the null hypothesis previously described can be rejected), which in turn can be a strong indication that there may exist a positive correlation between media coverage in voting intention. A similar argument can be drawn for the BBC newspaper, but this time we only note a weak indication of correlation (as the p-value is between 0.05 and 0.1).  
  Thus, concerning the overall 2012 elections, we may observe a correlation between media coverage and voting intentions for candidate Romney. However, nothing can be concluded for candidate Obama.
- **Hillary Clinton**: we note overall positive correlations for the three newspapers. However, only the correlation exhibited by the BBC newspaper can be considered since it is the only test in which we have statistical significance (the p-value is smaller than 0.05).
- **Donald Trump 2016**: we observe positive correlations in all three newspapers. Nonethless, in a similar manner as Donald Trump's opponent candidate Hillary Clinton, we only witness statistical significance for the BBC newspaper.
- **Joe Biden**: although we note only positive correlations between media coverage and voting intentions in the three newspapers, no conclusion can be draw as all correlations exhibit a p-value higher than the 0.1 threshold. The null hypothesis cannot be rejected.
- **Donald Trump 2020**: The study conducted for candidate Donald Trump in 2020 exhibits a similar behavior as the one done for his opponent Joe Biden. We note positive correlations for BBC and Fox News and a negative correlation for NY Times. However, since the p-values are all higher than our threshold, we cannot reject the null hypothesis.

This first baseline correlation study illustrates a few interesting behaviors. First, it is intriguing to note that the BBC newspaper in 2016 seems to exhibit an overall positive correlation between media coverage and voting intentions for both candidates (Hillary Clinton and Donald Trump 2016) - both with a fairly similar spearman coefficient. We believe that such an observation highlights the "centrist" nature of the newspaper, noting here that in a newspaper such as BBC, any mention of a candidate may incur an increase in voting intentions. However, it is also important to highlight that in our original dataset, we have significantly less quotations originating from the BBC newspaper than from NY Times or Fox News. Considering the fact that we barely note any statistical significance for the correlation study of the latter two newspapers, it is possible that this discrepancy in overall quotations may have an effect on the study. However, it is difficult to determine the significance of such a possible impact (if any). Ideally, the study would be conducted with an equal and sufficient number of quotations originating from each newspaper. Alternatively, another inquiry that may arise from these observations, may question the reason behind the fact that we do not observe statistical significance for all the candidates in the BBC newspaper.

A second interesting observation relates to the results retrieved in the three newspapers concerning candidate Mitt Romney. As previously mentioned, we note that any coverage could potentially causes a raise in voting intentions. Such a relationship may make sense in the case of a republican newspaper (possibly a centrist one as well), since Mitt Romney is himself a Republican candidate. However, how could we explain the statistically significant correlation observed in NY Times for Mitt Romney? Would it make sense for a notoriously Democratic Newspaper to have a positive effect on the voting intentions of a Republican candidate? It is difficult to answer such a question without taking into account the context in which the quotations were made, specifically regarding the overall sentiment of the quotations.

As such, we decide to expand our correlation study by including a sentiment analysis performed on each of the retrieved quotations. We note that drawing any conclusions from the results retrieved in the first baseline correlation study may be an arduous task since there may be external covariates that we do not take into account influencing the results observed. One such covariate may be the sentiment of the quotations. If we can, for instance, determine that most of the quotations retrieved for the NY Times newspaper about Mitt Romney have a positive connotation, we may explain why the observed correlation between media coverage and voting intentions is positive (although it would give us no insight as to why a Democratic-leaning newspaper would include positive connotations about a Republican candidate).

Additionally, simply studying the baseline correlation between candidates Hillary Clinton and Donald Trump in 2016 gives us little information regarding the nature of the potential correlation. Indeed, we would interpret our results in complete different manners if we note that the positive correlation between media coverage and voting intention is caused principally by quotations deemed negative versus if it is caused mostly by quotations deemed positive.

Consequently, we present in the next section the sentiment analysis conducted on our datasets and the results achieved, with some possible interpretations of the observations witnessed.


<center>
  <h2>Correlation Study with Sentiment Analysis</h2>
</center>

Until now we've considered all candidate's name mentions with the same weight but we argue that two quotes with a
candidate's name mention can have very different effect based on positive or negative sentiment towards the candidate. Therefore, we want expand our analysis with an additional dimension : polarity. We hope this can guide our previous results.

Given our finite time, we have to assume properties :

- [Sentiment correctness] We assume the aggregated sentiment of the quote reflect the general sentiment toward the candidate i.e there is a negligible number of hypocrite, humorous or 2nd degree quotes.
- [No external bias] QuoteBank is a non-biased sample of media coverage. This would be the case if QuoteBank was a
  complete set of all _words_ used in the newspaper for the last 15 years, which is not feasible. QuoteBank is biased
  but we suppose for the sack of analysis its bias does not interfere.

Since we don't own a labeled dataset, we opted for unsupervised sentiment analysis which unfortunately makes it difficult to assess the accuracy. On the other hand, manually labelling quotes (>10'000) would have been impossible in the given timeframe.

<center>
  <h3>Preprocessing</h3>
</center>

Our model will take text as input and output the sentiment associated to it.

1. text:- Actual quote
2. sentiment:- Floating value between -1 (negative) and +1 (positive).


We applied a simple preprocessing pipeline to prepare quotes for sentiment analysis. The first step comes with removing the noises in the data; noise is referred to as something which not related to textual human language, and those come with various nature like special characters, use of parentheses, use of square brackets, white spaces, URL’s and punctuations.

Then, text normalisation starts with tokenizing the text, which our longer corpus is now to be split into words, which the tokenizer class from NLTK can do. Post that, we need to lower case each word of our corpus, converting numbers to the words, contraction replacement and last stemming and lemmatization.

-- Pipeline --

- Remove punctuation
- Make text lowercase
- Tokenization
- Remove stopwords
- Stemming
- Lemmatization

Example:
- **Original quote** : _Trump's a tough guy to vote for_.
- **Preprocessed quote** : _trump tough guy vote_.

<center>
  <h3>Model Implementation</h3>
</center>

First let’s have a look the implementation of the unsupervised sentiment analysis on each quote that mentioned one of
our candidates in 2012/2016/2020.

We tried three
different [unsupervised models](https://github.com/epfl-ada/ada-2021-project-sars/tree/main/sentiment_analysis#:~:text=unsupervised_sentiment_analysis.ipynb) :

- [VADER](https://github.com/cjhutto/vaderSentiment) (Valence Aware Dictionary and sEntiment Reasoner) is a lexicon and rule-based sentiment analysis tool that is specifically attuned to sentiments expressed in social media. It predicts the sentiment of the quote as a float, positive values are positive valence, negative value are negative valence.
- [Pre-trained BERT](https://huggingface.co/nlptown/bert-base-multilingual-uncased-sentiment) with >700 embeddings (bert-base-multilingual-uncased-sentiment). It predicts the sentiment of the review as a number of stars (between 1 and 5) and ensures 65% accuracy on their testing dataset.
- [TextBlob](https://textblob.readthedocs.io/en/dev/quickstart.html#sentiment-analysis). It aims to provide access to common text-processing operations through a familiar interface. The polarity score is a float within the range [-1.0, 1.0]. The subjectivity is a float within the range [0.0, 1.0] where 0.0 is very objective and 1.0 is very subjective.

<center>
  <h3>Results</h3>
</center>


Model selection was done using visualisation tools such as barplots, word-clouds (
see [notebook](https://github.com/epfl-ada/ada-2021-project-sars/tree/main/sentiment_analysis#:~:text=exploratory_data_analysis.ipynb))
. All further plots were done with the best model (TextBlob) which provided the most interesting properties :

- It provides an additional metric by default : subjectivity. A floating value from 0 to 1 which represents the subjectivity of the quote.
- The 'default' return value is a polarity score of 0 (neutral) which is not trivial and implemented differently by the other models. BERT outputs a majority of 1-labeled quotes (very negative) by default which would introduce inaccuracies in our dataset.
- As we aggregate the data by month/by weeks for the correlation analysis, it was decided more accurate to use numerical data instead of categorical as polarity score.

Processing was simply done by iterating over the dataset and applying the model to each quote.

Example:
- **Original quote** : _Trump's a tough guy to vote for_.
- **Preprocessed quote** : _trump tough guy vote_.
- **Polarity/subjectivity score** : [-0.389, 0.834].


![image](/ada_story/img/posts/wordcloud_2016.png)

![image 2](/ada_story/img/posts/wordcloud_2020.png)

![image 3](/ada_story/img/posts/wordcloud_2012.png)

Word-clouds sort the most present words by size. We partition the datasets for each year by positive/negative quotes and plot their respective word-clouds. 
We can intuitively assess the precision of our model by looking at them. We classify quotes with strong negative polarity valence (< -0.8) as negative and strong positive polarity valence (> 0.8) as positive quotes. 
Thus filtering all quotes with low-confidence or low polarity. We observe a majority of [great, good, win] for positive quotes and [worst, hate] for negative quotes. 


<iframe src="/ada_story/img/posts/sentiment.html" height="500px" width="100%" frameBorder="0"></iframe>



<center>
  <h3>Evolution of polarity & subjectivity score over months prior to election
</h3>
</center>

We decide to compare vote intentions with aggregated polarity of quotes on a candidate/monthly basis. Let's plot the polarity and subjectivity distributions over time.

<iframe src="/ada_story/img/posts/polarity.html" height="500px" width="100%" frameBorder="0"></iframe>

<iframe src="/ada_story/img/posts/subjectivity.html" height="500px" width="100%" frameBorder="0"></iframe>

In 2012, there is a noticeable increase in polarity (2-factor) the last month (November) just prior to elections without a noticeable change in subjectivity. This could mean all newspapers focus on promoting their favorite candidate instead of writing about the opposing one.
Overall unfortunately, the change in polarity (y-axis) from a month to another is very small in most cases which makes it difficult to conclude a meaningful statistical change when comparing to the mean standard deviation of the population : [$std_{2012}$ = 0.247], [$std_{2016}$ = 0.235] & [$std_{2020}$ = 0.253]. It is much higher than the measured change between months. Similarly with subjectivity : [$std_{2012}$ = 0.3155] [$std_{2016}$ = 0.2956], [$std_{2020}$ = 0.3098].
Furthermore, we observe a very different timeline for 2016 election due to missing data and quotes from 2020 don't extending past April.

As we have just seen, candidate mentions and polarity on their own are not sufficient to explain shifts in voting intentions. This is why we will combine them in a new correlation study.


We have to repeat Spearman correlation test as above but with a twist : we partition the previous datasets (for each candidate) based on polarity (>0 positive and <0 negative) and apply correlation test on each individual partition.

Why not take into account quotes with neutral polarity ?

* Neutral quotes might be the result of a model error or over-preprocessing of the quote.
* A correlation between neutral quotes and voting intentions is hard to interpret.

<center>
  <h2>Correlation Results</h2>
</center>

<iframe src="/ada_story/img/posts/sentiment_correlation.html" height="600px" width="110%" frameBorder="0"></iframe>



<center>
  <h2># So, did we find ADAstonishing results?</h2>
</center>



Conclude the study here

# References

[1] _https://www.politico.com/magazine/story/2016/11/2016-election-trump-media-takeover-coverage-214419/_  
[2] _https://www.bbc.co.uk/news/36429660.amp_  
[3] _https://dl.acm.org/doi/10.1145/3437963.3441760_  
[4] _https://obamawhitehouse.archives.gov/blog/2012/05/10/obama-supports-same-sex-marriage_
